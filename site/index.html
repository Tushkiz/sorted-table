<html>
<head>
    <!--
    This is the library that provides websocket streaming pub/sub
    The dev serverver is serving the html and javascript, but it also provides updating fx data on /fx/prices.
     -->
    <script src="stomp.js"></script>
    <script src="sparkline.js"></script>
</head>
<body>

<!-- This is a description of what you should do for this task.  You can remove it for your answer -->
<section class="content">
    <table class="exchange-table">
        <thead class="exchange-table__header">
        <tr>
            <th>Name</th>
            <th>Current best bid price</th>
            <th>Current best ask price</th>
            <th>Best bid last changed</th>
            <th>Best ask last changed</th>
            <th>midprice</th>
        </tr>
        </thead>
        <tbody class="exchange-table__body">

        </tbody>
    </table>
    

    <h2>Notes</h2>

    <p>
        My Approach uses Publish-Subscribe mechanism
    </p>
    
    <p>
        The topics published are
    </p>

    <ul>
        <li><code>CURRENCY_PAIR_UPDATE</code> = whenever there's an update on websocket</li>
        <li><code>UPDATE_TABLE</code> = published for every 30 sec interval</li>
    </ul>

    <p>
        I have created two components
    </p>

    <ul>
        <li><code>ExchangeTable</code> = represents the table, stores all the currency pair in a hash map like data structure</li>
        <li><code>CurrencyPair</code> = represents the row</li>
    </ul>
    <p>
        On every update on websocket, I update the currencyPairMap of ExchangeTable and collate the data for sparklines
    </p>
    <p>
        I would have loved to use React for the View update.
        As in my approach, whole table body is replaced after an interval.
        This could have beed efficiently solved with React's Virtual DOM.
    </p>
    <p>
        Name: <strong>Tushar Sonawane</strong>
        Email: <strong>tusharlsonawane@gmail.com</strong>
    </p>
</section>

<!-- Code you write in index.js and anything it depends on will be bundled into bundle.js and
     is included here -->
<script src="bundle.js"></script>

</body>
</html>